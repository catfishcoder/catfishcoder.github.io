<!DOCTYPE html>
<html lang="en-us" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="author" content="zyanjun" />
	
	
	
	<title>Cpp_day5 ｜ zyanjun</title>
	
    
    
    <meta name="description" content="3.5 数组 数组也是存放类型相同的对象的容器，‘’/ 87这些对象本身没有名字，而是要通过其位置访问，但是与vector不同，数组大小固定。 3.5.1 定义一个数组 int arr[10]; //定义一个整型数组，包含10个元素 int *parr[10]; //定义一" />
    

    

	
    
    <link rel="shortcut icon" href="https://catfishcoder.github.io/images/favicon.ico" />

    <link rel="stylesheet" type="text/css" media="screen" href="https://catfishcoder.github.io/css/normalize.css" />
    <link rel="stylesheet" type="text/css" media="screen" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.0/animate.min.css" />
    <link rel="stylesheet" type="text/css" media="screen" href="https://catfishcoder.github.io/css/zozo.css" />
	<link rel="stylesheet" type="text/css" media="screen" href="https://cdn.jsdelivr.net/npm/remixicon@2.5.0/fonts/remixicon.css" />
    <link rel="stylesheet" type="text/css" media="screen" href="https://catfishcoder.github.io/css/highlight.css" />

    
    
    <link rel="stylesheet" href="https://catfishcoder.github.io/css/css/zozo.css" />
    
</head>

<body>
    <div class="main animate__animated animate__fadeInDown">
        <div class="nav_container animated fadeInDown">
    <div class="site_nav" id="site_nav">
        <ul>
            
            <li>
                <a href="/">Home</a>
            </li>
            
            <li>
                <a href="/post/">Archive</a>
            </li>
            
            <li>
                <a href="/tags/">Tags</a>
            </li>
            
            <li>
                <a href="/about/">About</a>
            </li>
            
        </ul>
    </div>
    <div class="menu_icon">
        <a id="menu_icon"><i class="ri-menu-line"></i></a>
    </div>
</div>
        <div class="header animated fadeInDown">
    <div class="site_title_container">
        <div class="site_title">
            <h1>
                <a href="https://catfishcoder.github.io/">
                    <span>zyanjun</span>
                </a>
            </h1>
        </div>
        <div class="description">
            <p class="sub_title">学无止境</p>
            <div class="my_socials">
                
                
                <a href="https://github.com/catfishcoder/catfishcoder.github.io" title="github" target="_blank"><i class="ri-github-fill"></i></a>
                
                
                <a href="https://catfishcoder.github.io/index.xml" type="application/rss+xml" title="rss" target="_blank"><i
                        class="ri-rss-fill"></i></a>
            </div>
        </div>
    </div>
</div>
        <div class="content">
            <div class="post_page">
                <div class="post animate__animated animate__fadeInDown">
                    <div class="post_title post_detail_title">
                        <h2><a href='/post/cpp_day5/'>Cpp_day5</a></h2>
                        <span class="date">2022.01.05</span>
                    </div>
                    <div class="post_content markdown"><h2 id="35-数组">3.5 数组</h2>
<blockquote>
<p>数组也是存放类型相同的对象的容器，‘’/
87这些对象本身没有名字，而是要通过其位置访问，但是与vector不同，数组大小固定。</p>
</blockquote>
<h3 id="351-定义一个数组">3.5.1 定义一个数组</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-C++" data-lang="C++">	<span class="kt">int</span> <span class="n">arr</span><span class="p">[</span><span class="mi">10</span><span class="p">];</span>	<span class="c1">//定义一个整型数组，包含10个元素
</span><span class="c1"></span>	<span class="kt">int</span> <span class="o">*</span><span class="n">parr</span><span class="p">[</span><span class="mi">10</span><span class="p">];</span>	<span class="c1">//定义一个整型指针数组
</span><span class="c1"></span>	<span class="kt">char</span> <span class="n">carr</span><span class="p">[</span><span class="mi">10</span><span class="p">];</span>
	<span class="n">string</span> <span class="n">satt</span> <span class="p">[</span><span class="mi">10</span><span class="p">];</span>
	<span class="kt">int</span> <span class="n">arr1</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">}</span>		<span class="c1">//列表初始化
</span><span class="c1"></span>	<span class="kt">int</span> <span class="n">arr2</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">}</span>		<span class="c1">//前三个被初始化为1,2,3。 后两个被初始化为0
</span><span class="c1"></span>	<span class="kt">int</span> <span class="p">(</span><span class="o">&amp;</span><span class="n">arrREF</span><span class="p">)[</span><span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="n">arr</span><span class="p">;</span>	<span class="c1">//arrREF引用一个含有10个整数的数组
</span><span class="c1"></span>	<span class="kt">int</span> <span class="o">*</span><span class="p">(</span><span class="o">&amp;</span><span class="n">arrREF</span><span class="p">)[</span><span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="n">arr</span><span class="p">;</span>	<span class="c1">//arrREF是一个数组的引用，该数组含有10个指针
</span></code></pre></div><ul>
<li>列表初始化时可以不指定数组大小，此时数组的大小为列表中元素的个数</li>
<li>在列表初始化时，没有指定初始值的元素会被默认初始化为0</li>
<li>字符数组的特殊性：使用字符串字面值初始化字符数组时，字符串字面值最后的空字符一样会被拷贝到数组中</li>
<li>数组不能被用于拷贝和赋值</li>
<li>与向量类似，因为数组是一个对象，所以不存在引用的数组，但可以定义数组的引用</li>
</ul>
<h3 id="352-访问数组元素">3.5.2 访问数组元素</h3>
<ul>
<li>数组元素可以使用范围for语句和下标运算符访问，在使用数组下标时，通常将其定义为<code>size_t</code>类型</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-C++" data-lang="C++">	<span class="k">for</span><span class="p">(</span><span class="k">auto</span> <span class="nl">i</span> <span class="p">:</span> <span class="n">arr</span><span class="p">)</span>
		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">i</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>	<span class="c1">//遍历数组元素
</span><span class="c1"></span>	<span class="k">auto</span> <span class="n">i</span> <span class="o">=</span> <span class="n">arr</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>		<span class="c1">//获取数组下标为2的元素的值
</span></code></pre></div><h3 id="353-指针和数组">3.5.3 指针和数组</h3>
<ul>
<li>使用数组的时候，编译器一般都会转换为指针，在大多数表达式中，使用数组类型的对象其实是使用一个指向该数组首元素的指针,<code>string *p2 = nums</code>等价于<code>p2=&amp;nums[0]</code></li>
<li>在使用数组时，请记住一个规则，即 <code>array[index]</code> 相当于 <code>*(array + index)</code>，不仅如此，C++ 不会对数组执行边界检查。当使用指针遍历一个数组时，有可能会给指针一个越出数组边界的地址。</li>
<li>**数组名称和指针变量的唯一区别是，不能改变数组名称指向的地址。**数组名称是指针常量。不能让它们指向除了它们所代表的数组之外的任何东西。</li>
<li>数组名是指向数组第一个元素的指针，解引用一次就能得到第一个元素的值。而指向数组的指针却并不指向数组第一个元素，解引用一次表示数组，解引用两次表示第一个元素的值</li>
</ul>
<p><strong>指针也是迭代器</strong>
指向数组元素的指针拥更多的功能，比如迭代器。可以通过使用自增运算符将<strong>指向数组元素</strong>的指针向前移动到下一个位置,但是使用指针遍历数组元素时，需要知道第一个元素地址和最后一个元素地址，</p>
<p><strong>标准库函数begin和end</strong>(c11)</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-C++" data-lang="C++">	<span class="kt">int</span> <span class="o">*</span><span class="n">beg</span> <span class="o">=</span> <span class="n">begin</span><span class="p">(</span><span class="n">arr</span><span class="p">);</span>	<span class="c1">//beg是指向数组首元素的指针
</span><span class="c1"></span>	<span class="kt">int</span> <span class="o">*</span><span class="n">end</span> <span class="o">=</span> <span class="n">end</span><span class="p">(</span><span class="n">arr</span><span class="p">);</span>	<span class="c1">//arr是指向尾后元素的指针
</span></code></pre></div><ul>
<li>注意：这里的两个函数不是容器的成员函数，使用方式是将数组作为其参数，begin函数返回指向数组首元素的指针，end函数返回指向尾元素下一个位置的指针</li>
<li>注意：尾后指针不能指向解引用和递增操作</li>
</ul>
<p><strong>指针运算</strong></p>
<p>指向数组元素的指针可以执行所有迭代器的运算，包括解引用、递增、比较、与整数相加、两个指针相减的等</p>
<ul>
<li>给一个指针加上一个整数值，结果仍是指针，新指针相对而言前进了该整数值个位置</li>
<li>和迭代器一样，两个指针相减表示他们两个之间的位置，参与运算的两个指针必须指向同一个数组当中的元素，可以取负值，结果是一种<code>ptrdiff_t</code>的标准库类型</li>
</ul>
<p><strong>下标和指针</strong>：虽然标准库类型string和vector也能执行下标运算，但是数组和他们相比还是有所不同，标准库类型限定使用的下标必须是无符号类型，而内置数组的下标无此要求</p>
<h3 id="354-c风格字符串">3.5.4 C风格字符串</h3>
<p><strong>使用指针和数组很容易出错，现代的C++程序应该尽量使用vector和引用，避免使用内置数组和指针。应该尽量使用string,避免使用C风格的基于数组的字符串</strong></p>
<h2 id="36-多维数组">3.6 多维数组</h2>
<blockquote>
<p>严格来说C++并没有多维数组，通常所说的多维数组其实数组的数组</p>
</blockquote>
<p><strong>多维数组的初始化</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-C++" data-lang="C++">	<span class="kt">int</span> <span class="n">ia</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">{</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">},</span>
		<span class="p">{</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">},</span>
		<span class="p">{</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">11</span><span class="p">}</span>
	<span class="p">};</span>
</code></pre></div><ul>
<li>一个包含3个元素的一维数组，其中每个元素又是一个包含4个元素的一维数组</li>
<li>内层嵌套的花括号是非必须的，也可以写成这样：<code>int ia[3][4] = {0,1,2,4,5,6,7,8,9,10,11};</code></li>
<li>在定义中未被显式初始化的元素将被默认初始化为0</li>
</ul>
<p><strong>多维数组的下标引用</strong>：可以使用下标运算符来访问多维数组，此时数组每个维度对应一个下标运算符，如果表达式含有的下标运算符数量比给定的维度小，则表达式的结果将是给定索引处的一个内层数组</p>
<p><strong>使用范围for运算符处理多维数组</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-C++" data-lang="C++">	<span class="k">for</span> <span class="p">(</span><span class="k">auto</span> <span class="o">&amp;</span><span class="nl">row</span> <span class="p">:</span> <span class="n">arr</span><span class="p">)</span>
		<span class="k">for</span> <span class="p">(</span><span class="k">auto</span> <span class="o">&amp;</span><span class="nl">col</span> <span class="p">:</span> <span class="n">row</span><span class="p">)</span>
		<span class="p">{</span>
			<span class="n">col</span> <span class="o">=</span> <span class="n">cnt</span><span class="p">;</span>
			<span class="o">++</span><span class="n">cnt</span><span class="p">;</span>
		<span class="p">}</span>
</code></pre></div><ul>
<li>因为要改变数组的元素的值，所以要选用引用类型作为循环控制变量，另一个原因则是避免外层数组被转化成指针，因为指针无法被遍历</li>
<li>所以要使用范围for语句处理多维数组，除了最内层循环，其他所有循环的控制变量都应该是引用类型</li>
</ul>
<p><strong>指针和多维数组</strong></p>
<ul>
<li>因为多维数组是数组的数组，所以多维数组转换得来的指针其实是指向第一个内层数组的指针，再次解引用才是指向多维数组第一个值的指针</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-C++" data-lang="C++">	<span class="kt">int</span> <span class="n">ia</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="mi">4</span><span class="p">];</span>
	<span class="kt">int</span> <span class="p">(</span><span class="o">*</span><span class="n">p</span><span class="p">)[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="n">ia</span><span class="p">;</span>	<span class="c1">//p是指向含有4个整数的数组的指针
</span><span class="c1"></span>	<span class="kt">int</span> <span class="n">da</span> <span class="o">=</span> <span class="o">**</span><span class="n">arr</span><span class="p">;</span>		<span class="c1">//da是第一个元素的值
</span></code></pre></div><ul>
<li>在上述声明中，圆括号必不可少，<code>int *p[4]</code>表示整型指针的数组，`int (*p)[4]表示指向含有4个整型的数组的指针</li>
<li>对二维数组一次解引用得到的是指向第一个内层数组的指针，二次解引用得到的是第一个元素的值</li>
<li></li>
</ul>
</div>
                    <div class="post_footer">
                        
                        <div class="meta">
                            <div class="info">
                                <span class="field tags">
                                    <i class="ri-stack-line"></i>
                                    
                                    <a href="https://catfishcoder.github.io/tags/c&#43;&#43;/">C&#43;&#43;</a>
                                    
                                </span>
                            </div>
                        </div>
                        
                    </div>
                </div>
                
                
                <div class="doc_comments"></div>
                
            </div>
        </div>
    </div>
    <a id="back_to_top" href="#" class="back_to_top"><i class="ri-arrow-up-s-line"></i></a>
    <footer class="footer">
    <div class="powered_by">
        奋斗途中，不轻言放弃
    </div>

    <div class="footer_slogan">
        <span></span>
    </div>
</footer>
    <script src="https://catfishcoder.github.io/js/jquery-3.5.1.min.js"></script>
<link href="https://catfishcoder.github.io/css/fancybox.min.css" rel="stylesheet">
<script src="https://catfishcoder.github.io/js/fancybox.min.js"></script>
<script src="https://catfishcoder.github.io/js/zozo.js"></script>


<script type="text/javascript" async
    src="https://cdn.bootcss.com/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
        MathJax.Hub.Config({
            tex2jax: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\[\[', '\]\]']],
                processEscapes: true,
                processEnvironments: true,
                skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
                TeX: {
                    equationNumbers: { autoNumber: "AMS" },
                    extensions: ["AMSmath.js", "AMSsymbols.js"]
                }
            }
        });

        MathJax.Hub.Queue(function () {
            
            
            
            var all = MathJax.Hub.getAllJax(), i;
            for (i = 0; i < all.length; i += 1) {
                all[i].SourceElement().parentNode.className += ' has-jax';
            }
        });
    </script>

<style>
    code.has-jax {
        font: inherit;
        font-size: 100%;
        background: inherit;
        border: inherit;
        color: #515151;
    }
</style>



</body>

</html>